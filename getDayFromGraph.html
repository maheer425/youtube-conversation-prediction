<html>
  <head>
    <title>Test</title>
  </head>
</html>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <div id="line"></div>
  <div id="output"></div>
  <button id="findY"></button>
  <div id="yans">Find data at 100000 views</div>

<g id="graph">
   <rect x="81" y="30" width="507" height="120" stroke="none" stroke-width="0" fill-opacity="0" fill="#ffffff"></rect>
   <g clip-path="url(#_ABSTRACT_RENDERER_ID_0)">
      <g>
         <rect x="81" y="149" width="507" height="1" stroke="none" stroke-width="0" fill="#f0f0f0"></rect>
         <rect x="81" y="109" width="507" height="1" stroke="none" stroke-width="0" fill="#f0f0f0"></rect>
         <rect x="81" y="70" width="507" height="1" stroke="none" stroke-width="0" fill="#f0f0f0"></rect>
         <rect x="81" y="30" width="507" height="1" stroke="none" stroke-width="0" fill="#f0f0f0"></rect>
      </g>
      <g>
         <rect x="81" y="149" width="507" height="1" stroke="none" stroke-width="0" fill="#e2e2e2"></rect>
      </g>
      <g>
         <path d="" stroke="#73c421" stroke-width="1" fill-opacity="1" fill="none"></path>
      </g>
   </g>
   <g></g>
   <g>
      <g>
         <text text-anchor="end" x="71" y="153" font-family="Arial" font-size="10" stroke="none" stroke-width="0" fill="#666666">0</text>
      </g>
      <g>
         <text text-anchor="end" x="71" y="113.33333333333334" font-family="Arial" font-size="10" stroke="none" stroke-width="0" fill="#666666">500,000</text>
      </g>
      <g>
         <text text-anchor="end" x="71" y="73.66666666666667" font-family="Arial" font-size="10" stroke="none" stroke-width="0" fill="#666666">1,000,000</text>
      </g>
      <g>
         <text text-anchor="end" x="71" y="34.000000000000014" font-family="Arial" font-size="10" stroke="none" stroke-width="0" fill="#666666">1,500,000</text>
      </g>
   </g>
</g>
</body>
<script>
  var test_path = "M81.5,145.16514733333332L82.05973451327434,140.32192666666666L82.61946902654867,136.09948933333334L83.179203539823,134.97636733333334L83.73893805309734,134.338686L84.29867256637168,133.79422133333333L84.85840707964601,133.31473066666666L85.41814159292035,132.701008L85.97787610619469,132.20422266666668L86.53761061946902,131.83452933333334L87.09734513274336,131.52132133333333L87.6570796460177,131.22532866666666L88.21681415929204,131.02731266666666L88.77654867256638,130.85587333333334L89.33628318584071,130.67554866666666L89.89601769911505,130.498318L90.4790744837758,130.36115066666667L91.03880899705015,130.23326533333335L91.59854351032449,130.03382133333332L92.15827802359883,129.890466L92.71801253687316,129.77892333333332L93.2777470501475,129.62097066666666L93.83748156342183,129.49427533333335L94.39721607669617,129.36289933333333L94.9569505899705,129.27777466666666L95.51668510324484,129.19106333333335L96.07641961651917,129.035808L96.63615412979351,128.925852L97.19588864306785,128.821608L97.75562315634218,128.71506333333332L98.31535766961652,128.62375066666667L98.87509218289085,128.54354466666666L99.43482669616519,128.461276L99.99456120943952,128.39741266666667L100.55429572271386,128.33124866666668L101.1140302359882,128.26746466666668L101.67376474926255,128.142832L102.23349926253687,128.082618L102.79323377581122,128.02779866666668L103.35296828908554,127.97250333333334L103.91270280235989,127.92617266666667L104.47243731563422,127.87754133333334L105.03217182890856,127.82407066666667L105.5919063421829,127.76766466666666L106.15164085545723,127.72062L106.71137536873157,127.67841466666667L107.2711098820059,127.633988L107.83084439528024,127.58242133333334L108.39057890855457,127.51221133333334L108.95031342182891,127.43946266666667L109.51004793510324,127.38154933333334L110.06978244837758,127.33545666666667L110.62951696165192,127.28809466666667L111.18925147492625,127.24303333333333L111.74898598820059,127.19448133333333L112.30872050147492,127.15283133333334L112.86845501474926,127.099202L113.42818952802361,127.04930133333333L113.98792404129793,127.00654066666667L114.54765855457228,126.96608066666667L115.1073930678466,126.920702L115.66712758112095,126.87484733333334L116.22686209439527,126.83010333333334L116.78659660766962,126.78726333333333L117.34633112094394,126.73950466666668L117.9060656342183,126.69785466666667L118.46580014749263,126.65739466666668L119.02553466076697,126.61685533333333L119.5852691740413,126.56695466666667L120.14500368731564,126.36528933333334L120.70473820058997,126.19353266666667L121.26447271386431,125.87017L121.82420722713864,125.623602L122.38394174041298,125.39623266666666L122.94367625368731,125.21194133333333L123.50341076696165,125.07469466666667L124.063145280236,124.95617066666667L124.62287979351032,124.79996333333334L125.18261430678467,124.708492L125.742348820059,124.57084866666666L126.30208333333334,124.423606L126.86181784660766,124.35236466666667L127.42155235988201,124.29270600000001L127.98128687315634,124.233444L128.54102138643069,124.15902933333334L129.100755899705,124.01250066666667L129.66049041297936,123.95760200000001L130.2202249262537,123.90944666666667L130.77995943952803,123.85327866666667L131.33969395280235,123.72896333333334L131.8994284660767,123.59266866666667L132.45916297935105,123.50341866666668L133.01889749262537,123.41980133333334L133.5786320058997,123.33943666666667L134.13836651917404,123.27493866666667L134.6981010324484,123.21972266666667L135.2578355457227,123.166728L135.81757005899706,123.10135733333334L136.37730457227138,123.03749400000001L136.93703908554573,122.97847L137.49677359882006,122.929442L138.0565081120944,122.89191733333334L138.61624262536873,122.84415866666667L139.17597713864308,122.80361933333333L139.7357116519174,122.76173133333333L140.29544616519175,122.713576L140.85518067846607,122.666928L141.41491519174042,122.62726133333334L141.97464970501477,122.5941L142.5343842182891,122.55824133333334L143.0941187315634,122.52143066666667L143.65385324483776,122.48620666666667L144.2135877581121,122.38854733333334L144.77332227138643,122.29271266666667L145.33305678466076,122.210682L145.8927912979351,122.12127333333333L146.45252581120945,122.05027L147.01226032448378,121.984106L147.5719948377581,121.92428866666667L148.13172935103245,121.850588L148.6914638643068,121.39807066666667L149.25119837758112,121.085418L149.81093289085544,120.92207066666667L150.3706674041298,120.80196000000001L150.93040191740414,120.71350333333334L151.4901364306785,120.648212L152.0498709439528,120.57197266666667L152.60960545722713,120.50858533333334L153.16933997050148,120.45622533333334L153.72907448377583,120.40307200000001L154.28880899705015,120.34952200000001L154.84854351032448,120.30565066666666L155.40827802359883,120.25511533333334L155.96801253687318,120.19545666666667L156.5277470501475,120.14976066666667L157.08748156342182,120.09993933333334L157.64721607669617,120.05646466666667L158.20695058997052,120.012752L158.76668510324484,119.97356133333334L159.32641961651916,119.92865866666666L159.8861541297935,119.88312133333334L160.44588864306786,119.84155066666668L160.98230088495575,119.807596L161.5420353982301,119.77514866666667L162.10176991150445,119.73595800000001L162.66150442477877,119.69914733333334L163.2212389380531,119.66241600000001L163.78097345132744,119.629572L164.3407079646018,119.59260266666666L164.9004424778761,119.554126L165.46017699115043,119.516998L166.01991150442478,119.48812066666667L166.57964601769913,119.452976L167.13938053097345,119.42259133333334L167.69911504424778,119.39220666666667L168.25884955752213,119.365154L168.81858407079648,119.33929133333334L169.3783185840708,119.31263533333333L169.93805309734512,119.288756L170.49778761061947,119.22346466666667L171.05752212389382,119.17491266666667L171.61725663716814,119.13603933333334L172.17699115044246,119.10200533333334L172.7367256637168,119.04250533333334L173.29646017699116,119.00022066666666L173.8561946902655,118.95666666666666L174.41592920353983,118.92017333333334L174.97566371681415,118.89597666666667L175.5353982300885,118.86900333333334L176.09513274336285,118.84377533333334L176.65486725663717,118.82600466666668L177.2146017699115,118.80077666666666L177.77433628318585,118.77602466666667L178.3340707964602,118.755398L178.89380530973452,118.727552L179.45353982300884,118.69272466666666L180.0132743362832,118.66265733333333L180.57300884955754,118.630448L181.13274336283186,118.60165L181.69247787610618,118.58078533333334L182.25221238938053,118.56341133333333L182.81194690265488,118.54572L183.3716814159292,118.52096800000001L183.93141592920352,118.498834L184.49115044247787,118.47558933333333L185.05088495575222,118.46059533333333L185.61061946902657,118.44496666666667L186.1703539823009,118.42434L186.73008849557522,118.40514133333333L187.28982300884957,118.38269L187.84955752212392,118.360794L188.40929203539824,118.34286466666667L188.96902654867256,118.322L189.5287610619469,118.299628L190.08849557522126,118.28003266666667L190.64823008849558,118.25837466666667L191.2079646017699,118.23441600000001L191.76769911504425,118.204904L192.3274336283186,118.18221466666667L192.88716814159292,118.163254L193.44690265486724,118.145166L194.0066371681416,118.12342866666667L194.56637168141594,118.10145333333334L195.12610619469027,118.07646333333334L195.6858407079646,118.051632L196.24557522123894,118.03005333333334L196.8053097345133,118.01133066666667L197.36504424778764,117.99110066666667L197.92477876106196,117.970712L198.48451327433628,117.95008533333333L199.04424778761063,117.92771333333334L199.60398230088498,117.905262L200.1637168141593,117.879558L200.72345132743362,117.85988333333333L201.28318584070797,117.84274733333334L201.84292035398232,117.822676L202.40265486725664,117.800066L202.96238938053096,117.77666266666667L203.52212389380531,117.753894L204.08185840707966,117.73041133333334L204.641592920354,117.71216466666667L205.2013274336283,117.69423533333334L205.76106194690266,117.67384666666666L206.320796460177,117.65322L206.88053097345133,117.58269266666667L207.44026548672565,117.50621533333333L208,117.46694533333334L208.55973451327435,117.43743333333333L209.1194690265487,117.40847666666667L209.67920353982302,117.38721533333333L210.23893805309734,117.36079733333334L210.7986725663717,117.230294L211.358407079646,117.07305533333334L211.91814159292036,117.018474L212.47787610619469,116.98094933333334L213.03761061946904,116.93929933333334L213.59734513274336,116.88535266666668L214.1570796460177,116.854254L214.71681415929203,116.79062866666666L215.27654867256638,116.74747133333334L215.83628318584073,116.71613466666668L216.39601769911505,116.69066866666667L216.9557522123894,116.66750333333334L217.51548672566372,116.64679733333334L218.07522123893807,116.62617066666667L218.6349557522124,116.52018133333334L219.19469026548674,116.42236333333334L219.75442477876106,116.378254L220.3141592920354,116.35397800000001L220.87389380530973,116.32153066666666L221.43362831858408,116.28892466666667L221.9933628318584,116.26353800000001L222.55309734513276,116.20824266666668L223.11283185840708,116.15731066666666L223.67256637168143,116.12454600000001L224.23230088495575,116.09709666666666L224.7920353982301,116.07583533333334L225.35176991150442,116.05576400000001L225.91150442477877,116.036248L226.4712389380531,115.95739066666667L227.03097345132744,115.870362L227.5907079646018,115.825856L228.1504424778761,115.79372599999999L228.71017699115046,115.76476933333333L229.26991150442478,115.73486066666666L229.82964601769913,115.70836333333334L230.38938053097345,115.66338133333333L230.9491150442478,115.63363133333334L231.50884955752213,115.609752L232.06858407079648,115.59293333333333L232.6283185840708,115.57246533333333L233.18805309734515,115.54961733333334L233.74778761061947,115.4779L234.30752212389382,115.44021666666667L234.86725663716814,115.411736L235.4269911504425,115.38095466666667L235.9867256637168,115.35136333333334L236.54646017699116,115.33121266666666L237.10619469026548,115.310586L237.66592920353983,115.292498L238.22566371681415,115.20880133333333L238.7853982300885,115.15652066666667L239.34513274336285,115.12923L239.90486725663717,115.09813133333333L240.46460176991152,115.06917466666667L241.02433628318585,115.04624733333333L241.5840707964602,115.02689000000001L242.14380530973452,114.97294333333333L242.70353982300887,114.93811600000001L243.2632743362832,114.91661666666667L243.82300884955754,114.89392733333334L244.38274336283186,114.87441133333334L244.9424778761062,114.858148L245.50221238938053,114.84156733333333L246.06194690265488,114.75929866666667L246.6216814159292,114.674412L247.18141592920355,114.640616L247.74115044247787,114.61872L248.30088495575222,114.59880733333333L248.86061946902655,114.58151266666667L249.4203539823009,114.56461466666667L249.98008849557522,114.51883933333333L250.53982300884957,114.47536466666668L251.0995575221239,114.449502L251.65929203539824,114.42356000000001L252.2190265486726,114.40666200000001L252.7787610619469,114.38920866666666L253.33849557522126,114.37413533333333L253.89823008849558,114.35065266666666L254.45796460176993,114.33208866666666L255.01769911504425,114.31423866666667L255.5774336283186,114.30202133333333L256.13716814159295,114.290756L256.69690265486724,114.276714L257.2566371681416,114.26275133333334L257.81637168141594,114.22808266666667L258.37610619469024,114.20015733333334L258.93584070796464,114.18064133333334L259.49557522123894,114.164854L260.0553097345133,114.15192266666668L260.61504424778764,114.13811866666667L261.17477876106193,114.12090333333333L261.7345132743363,114.08980466666667L262.29424778761063,114.05696066666667L262.8539823008849,114.03934866666667L263.41371681415933,114.02617933333335L263.9734513274336,114.009202L264.533185840708,113.99516L265.0929203539823,113.97961066666667L265.6526548672566,113.96072933333333L266.212389380531,113.94478333333333L266.7721238938053,113.93074133333334L267.33185840707966,113.92098333333334L267.891592920354,113.91067000000001L268.4513274336283,113.89980133333333L269.01106194690266,113.887822L269.570796460177,113.86084866666667L270.1305309734513,113.823086L270.6902654867257,113.79992066666668L271.25,113.78603733333333L271.80973451327435,113.77326466666668L272.3694690265487,113.758826L272.929203539823,113.746926L273.48893805309734,113.73113866666667L274.0486725663717,113.71392333333333L274.608407079646,113.70242L275.1681415929204,113.69218599999999L275.7278761061947,113.68203133333333L276.28761061946904,113.67021066666666L276.8473451327434,113.65958L277.4070796460177,113.63252733333334L277.9668141592921,113.603174L278.5265486725664,113.587466L279.0862831858407,113.57390000000001L279.6460176991151,113.55969933333333L280.20575221238937,113.54549866666667L280.7654867256637,113.53129799999999L281.32522123893807,113.51678000000001L281.88495575221236,113.502976L282.44469026548677,113.48885466666667L283.00442477876106,113.475606L283.5641592920354,113.46402333333333L284.12389380530976,113.45267866666667L284.68362831858406,113.440144L285.2433628318584,113.40579266666667L285.80309734513276,113.355654L286.36283185840705,113.33177466666666L286.92256637168146,113.315194L287.48230088495575,113.29813733333333L288.0420353982301,113.28401600000001L288.60176991150445,113.26775266666667L289.16150442477874,113.24982333333334L289.72123893805315,113.230466L290.28097345132744,113.21491666666667L290.8407079646018,113.20325466666667L291.40044247787614,113.19191000000001L291.96017699115043,113.18040666666667L292.5199115044248,113.169062L293.07964601769913,113.14177133333334L293.6393805309734,113.11805066666668L294.22243731563424,113.10202533333333L294.78217182890853,113.08092266666667L295.34190634218294,113.064818L295.90164085545723,113.04561933333333L296.4613753687316,113.02745200000001L297.02110988200593,113.00849133333334L297.5808443952802,112.99452866666667L298.1405789085546,112.98183533333334L298.7003134218289,112.96763466666667L299.2600479351032,112.95454466666666L299.8197824483776,112.945818L300.3795169616519,112.93487L300.93925147492627,112.90876933333334L301.4989859882006,112.87592533333333L302.0587205014749,112.85379133333333L302.6184550147493,112.84212933333333L303.1781895280236,112.82475533333334L303.73792404129796,112.81214133333333L304.2976585545723,112.79857533333333L304.8573930678466,112.78366066666666L305.41712758112095,112.77112600000001L305.9768620943953,112.75994L306.5365966076696,112.75097533333334L307.096331120944,112.741376L307.6560656342183,112.729476L308.21580014749264,112.71892466666667L308.775534660767,112.70036066666667L309.3352691740413,112.68481133333333L309.89500368731564,112.67061066666668L310.45473820059,112.65847266666667L311.0144727138643,112.638322L311.5742072271387,112.617854L312.133941740413,112.60270133333333L312.69367625368733,112.58485133333333L313.2534107669617,89.26680133333335L313.813145280236,86.877678L314.3728797935103,86.48164600000001L314.93261430678467,86.29338800000001L315.492348820059,86.11187333333334L316.05208333333337,85.96629666666666L316.61181784660766,85.790732L317.171552359882,85.632938L317.73128687315636,85.55074866666666L318.29102138643066,85.49259733333334L318.85075589970506,85.43428733333334L319.41049041297936,85.37899200000001L319.9702249262537,85.31735L320.52995943952806,85.25761200000001L321.08969395280235,85.20802866666666L321.6494284660767,85.15987333333334L322.20916297935105,85.11798533333334L322.76889749262534,85.084824L323.32863200589975,85.01191666666666L323.88836651917404,84.973202L324.4481010324484,84.93250400000001L325.00783554572274,84.89125066666666L325.56757005899703,84.85221866666667L326.1273045722714,84.81945400000001L326.68703908554573,84.78668933333334L327.2467735988201,84.74837133333334L327.80650811209443,84.70886333333334L328.3662426253687,84.66253266666666L328.9259771386431,84.61763L329.4857116519174,84.580026L330.0454461651917,84.54464333333334L330.6051806784661,84.52362000000001L331.1649151917404,84.50069266666667L331.72464970501477,84.474592L332.2843842182891,84.44777733333333L332.8441187315634,84.42754733333334L333.40385324483776,84.40779333333333L333.9635877581121,84.38938800000001L334.5233222713864,84.37074466666667L335.0830567846608,84.35241866666667L335.6427912979351,84.33314066666667L336.20252581120945,84.28807933333334L336.7622603244838,84.24904733333334L337.3219948377581,84.21858333333334L337.88172935103245,84.19383133333334L338.4414638643068,84.17407733333334L339.00119837758115,84.15606866666667L339.5609328908555,84.13806000000001L340.1206674041298,84.11751266666667L340.68040191740414,84.09625133333334L341.2401364306785,84.07729066666667L341.79987094395284,84.06094800000001L342.35960545722713,84.04563666666667L342.9193399705015,84.02889733333333L343.47907448377583,84.01295133333333L344.0388089970502,83.98891333333334L344.5985435103245,83.95916333333334L345.1582780235988,83.93782266666668L345.7180125368732,83.92227333333334L346.2777470501475,83.90505800000001L346.8374815634218,83.88879466666667L347.39721607669617,83.87395933333333L347.9569505899705,83.85333266666667L348.51668510324487,83.83278533333333L349.07641961651916,83.81953666666666L349.6361541297935,83.80700200000001L350.19588864306786,83.79208733333334L350.7556231563422,83.77614133333334L351.31535766961656,83.76408266666667L351.87509218289085,83.739648L352.4348266961652,83.71100866666667L352.99456120943955,83.68768466666667L353.5542957227139,83.67039L354.1140302359882,83.65388866666667L354.67376474926255,83.63675266666667L355.2334992625369,83.61684000000001L355.79323377581125,83.59906933333333L356.35296828908554,83.58177466666667L356.9127028023599,83.56574933333334L357.47243731563424,83.55242133333334L358.0321718289086,83.53988666666667L358.5919063421829,83.525448L359.15164085545723,83.51156466666667L359.7113753687316,83.48586066666667L360.27110988200593,83.45190600000001L360.8308443952802,83.42612266666667L361.3905789085546,83.40557533333333L361.9503134218289,83.38653533333334L362.5100479351033,83.36939933333333L363.06978244837757,83.35345333333333L363.6295169616519,83.32886L364.18925147492627,83.30870933333334L364.72566371681415,83.291256L365.2853982300885,83.27753133333334L365.84513274336285,83.26182333333334L366.4048672566372,83.247226L366.9646017699115,83.23318400000001L367.52433628318585,83.20684533333333L368.0840707964602,83.18304533333334L368.64380530973455,83.16448133333334L369.20353982300884,83.14901133333333L369.7632743362832,83.13385866666667L370.32300884955754,83.11910266666668L370.8827433628319,83.104664L371.4424778761062,83.08721066666666L372.00221238938053,83.07055066666668L372.5619469026549,83.05508066666667L373.12168141592923,83.04333933333334L373.6814159292036,83.032312L374.2411504424779,83.00081666666667L374.8008849557522,82.96757600000001L375.3606194690266,82.93290733333333L375.9203539823009,82.88459333333334L376.4800884955752,82.859048L377.03982300884957,82.84096000000001L377.5995575221239,82.82493466666666L378.15929203539827,82.70379266666667L378.71902654867256,82.61597066666667L379.2787610619469,82.577494L379.83849557522126,82.53957266666667L380.3982300884956,82.509664L380.9579646017699,82.48530866666667L381.51769911504425,82.46745866666667L382.0774336283186,82.44826L382.63716814159295,82.43223466666667L383.19690265486724,82.41525733333334L383.7566371681416,82.39788333333334L384.31637168141594,82.38249266666666L384.8761061946903,82.363056L385.43584070796464,82.346396L385.99557522123894,82.328546L386.5553097345133,82.311172L387.11504424778764,82.290228L387.674778761062,82.26753866666667L388.2345132743363,82.25183066666668L388.79424778761063,82.23794733333334L389.353982300885,82.22081133333334L389.91371681415933,82.20446866666667L390.4734513274336,82.18907800000001L391.033185840708,82.171942L391.5929203539823,82.15544066666668L392.1526548672567,82.13989133333334L392.71238938053096,82.12489733333334L393.2721238938053,82.114108L393.83185840707966,82.10133533333334L394.391592920354,82.08840400000001L394.9513274336283,82.06468333333333L395.51106194690266,82.04096266666667L396.070796460177,82.02612733333333L396.63053097345136,82.012482L397.1902654867257,81.99788466666666L397.75,81.98550866666668L398.30973451327435,81.96765866666667L398.8694690265487,81.95163333333333L399.42920353982305,81.937036L399.98893805309734,81.92410466666666L400.5486725663717,81.91077666666668L401.10840707964604,81.88713533333333L401.6681415929204,81.86714333333333L402.2278761061947,81.85318066666667L402.78761061946904,81.83763133333333L403.3473451327434,81.81700466666668L403.90707964601773,81.804946L404.466814159292,81.79193533333334L405.0265486725664,81.77940066666667L405.5862831858407,81.76512066666668L406.1460176991151,81.75107866666667L406.70575221238937,81.730928L407.2654867256637,81.71046L407.82522123893807,81.69292733333334L408.3849557522124,81.67848866666667L408.9446902654867,81.663336L409.50442477876106,81.64794533333334L410.0641592920354,81.63541066666667L410.62389380530976,81.61922666666668L411.1836283185841,81.60597800000001L411.7433628318584,81.59130133333333L412.30309734513276,81.57908400000001L412.8628318584071,81.56591466666667L413.42256637168146,81.55480800000001L413.98230088495575,81.54179733333334L414.5420353982301,62.767484666666675L415.10176991150445,60.93805800000001L415.6615044247788,60.58867400000001L416.2212389380531,60.401606L416.78097345132744,60.249048L417.3407079646018,60.13338L417.90044247787614,60.018029333333345L418.46017699115043,59.93948933333334L419.0199115044248,59.887446666666676L419.57964601769913,59.83833933333334L420.1393805309735,59.79668933333333L420.6991150442478,59.752183333333335L421.2588495575221,59.70672533333334L421.8185840707965,59.66943866666668L422.3783185840708,59.61699933333334L422.9380530973452,59.565988000000004L423.49778761061947,59.525131333333334L424.0575221238938,59.48522666666668L424.61725663716817,59.45349333333334L425.1769911504425,59.41755533333334L425.7367256637168,59.379792666666674L426.29646017699116,59.34694866666668L426.8561946902655,59.307044000000005L427.41592920353986,59.27197866666667L427.97566371681415,59.24246666666667L428.5353982300885,59.21430333333333L429.09513274336285,59.18288733333334L429.6548672566372,59.15424800000001L430.2146017699115,59.126402L430.77433628318585,59.09339933333334L431.3340707964602,59.06483933333334L431.89380530973455,59.036438000000004L432.45353982300884,59.01422466666668L433.0132743362832,58.991932000000006L433.57300884955754,58.96519666666667L434.1327433628319,58.93758866666667L434.69247787610624,58.912122666666676L435.25221238938053,58.890464666666674L435.8119469026549,58.866506L436.37168141592923,58.84334066666668L436.9314159292036,58.82120666666667L437.4911504424779,58.79962800000001L438.0508849557522,58.76892600000001L438.6106194690266,58.74782333333334L439.1703539823009,58.728545333333344L439.7300884955752,58.70887066666667L440.28982300884957,58.69221066666667L440.8495575221239,58.671108000000004L441.40929203539827,58.653099333333344L441.96902654867256,58.62644333333334L442.5287610619469,58.60010466666667L443.08849557522126,58.57455933333334L443.6482300884956,58.553456666666676L444.2079646017699,58.535765333333345L444.76769911504425,58.517915333333335L445.3274336283186,58.50101733333334L445.88716814159295,58.47348866666667L446.4469026548673,58.43596400000001L447.0066371681416,58.41192600000001L447.56637168141594,58.394631333333336L448.1261061946903,58.375908666666675L448.68584070796464,58.35734466666668L449.24557522123894,58.33648000000001L449.8053097345133,58.31521866666667L450.36504424778764,58.296099333333345L450.924778761062,58.27896333333334L451.4845132743363,58.25944733333334L452.04424778761063,58.232077333333336L452.603982300885,58.20891200000001L453.16371681415933,58.18899933333334L453.7234513274336,58.171863333333334L454.283185840708,58.15044333333334L454.8429203539823,58.13402133333334L455.4026548672567,58.11442600000001L455.96238938053096,58.09967L456.5221238938053,58.08245466666668L457.08185840707966,58.064525333333336L457.641592920354,58.04596133333334L458.20132743362836,58.019305333333335L458.76106194690266,57.99955133333334L459.320796460177,57.98106666666668L459.88053097345136,57.968690666666674L460.4402654867257,57.95353800000001L461,57.93560866666667L461.55973451327435,57.91744133333334L462.1194690265487,57.900940000000006L462.67920353982305,57.88309000000001L463.23893805309734,57.869603333333345L463.7986725663717,57.85484733333334L464.35840707964604,57.841440000000006L464.9181415929204,57.827477333333334L465.4778761061947,57.809072L466.03761061946904,57.78868333333334L466.5973451327434,57.77345133333334L467.15707964601773,57.75909200000001L467.716814159292,57.744574L468.2765486725664,57.732991333333345L468.8362831858407,57.713078666666675L469.3960176991151,57.68959600000001L469.9557522123894,57.66841400000001L470.5154867256637,57.65302333333334L471.07522123893807,57.632952L471.6349557522124,57.61081800000001L472.19469026548677,57.59487200000001L472.75442477876106,57.578450000000004L473.3141592920354,57.560838000000004L473.87389380530976,57.544257333333334L474.4336283185841,57.533468L474.9933628318584,57.52109200000001L475.55309734513276,57.50950933333334L476.1128318584071,57.49356333333334L476.67256637168146,57.476665333333344L477.23230088495575,57.461830000000006L477.7920353982301,57.44588400000001L478.35176991150445,57.433190666666675L478.9115044247788,57.42303600000001L479.4712389380531,57.410977333333335L480.03097345132744,57.39844266666667L480.5907079646018,57.38471800000001L481.15044247787614,57.36694733333334L481.71017699115043,57.349414666666675L482.2699115044248,57.33569L482.82964601769913,57.322124L483.3893805309735,57.306495333333345L483.94911504424783,57.29372266666667L484.5088495575221,57.27841133333334L485.0685840707965,57.25984733333334L485.6283185840708,57.242394000000004L486.1880530973452,57.23089066666667L486.74778761061947,57.21827666666667L487.3075221238938,57.20479L487.86725663716817,57.18876466666667L488.4269911504425,57.17377066666667L488.9867256637168,57.14655933333334L489.54646017699116,57.120696666666674L490.1061946902655,57.10554400000001L490.66592920353986,57.09055000000001L491.22566371681415,57.074445333333344L491.7853982300885,57.058896000000004L492.34513274336285,57.04382266666667L492.9048672566372,57.02906666666668L493.4646017699115,57.01407266666668L494.02433628318585,56.99995133333334L494.5840707964602,56.988686L495.14380530973455,56.976865333333336L495.7035398230089,56.95933266666667L496.2632743362832,56.94529066666668L496.82300884955754,56.92640933333334L497.3827433628319,56.90705200000001L497.96580014749264,56.89150266666667L498.525534660767,56.876429333333334L499.08526917404134,56.86151466666668L499.64500368731564,56.84049133333333L500.20473820059,56.81439066666667L500.76447271386434,56.78202266666668L501.3242072271387,56.751082666666676L501.883941740413,56.72529933333334L502.44367625368733,56.70261000000001L503.0034107669617,56.68579133333334L503.56314528023603,56.667306666666676L504.1228797935103,56.64660066666667L504.68261430678467,56.62391133333334L505.242348820059,56.606537333333335L505.80208333333337,56.59035333333334L506.36181784660766,56.57924666666668L506.921552359882,56.56417333333334L507.48128687315636,56.55021066666667L508.0410213864307,56.53878666666667L508.600755899705,56.51062333333334L509.16049041297936,56.485474666666676L509.7202249262537,56.46857666666668L510.27995943952806,56.451678666666666L510.8396939528024,56.43430466666668L511.3994284660767,56.42272200000001L511.95916297935105,56.40582400000001L512.5188974926255,56.37916800000001L513.0786320058997,56.35632000000001L513.638366519174,56.33910466666667L514.1981010324484,56.324507333333344L514.7578355457227,56.30713333333334L515.317570058997,56.297296L515.8773045722714,56.28214333333334L516.4370390855457,56.26588000000001L516.99677359882,56.24803L517.5565081120944,56.23390866666668L518.1162426253687,56.221929333333335L518.675977138643,56.210505333333344L519.2357116519174,56.19654266666667L519.7954461651918,56.182976666666676L520.355180678466,56.170124666666666L520.9149151917404,56.154099333333335L521.4746497050148,56.13141L522.0343842182891,56.11427400000001L522.5941187315634,56.10110466666667L523.1538532448378,56.087538666666674L523.7135877581121,56.07421066666667L524.2733222713864,56.05889933333334L524.8330567846608,56.045650666666674L525.3927912979351,56.03152933333334L525.9525258112094,56.01859800000001L526.5122603244838,56.00788800000001L527.0719948377582,55.998368L527.6317293510324,55.987182000000004L528.1914638643068,55.97655133333333L528.7511983775812,55.965682666666666L529.3109328908555,55.95291L529.8706674041298,55.93577400000001L530.4304019174042,55.920383333333334L530.9901364306785,55.904516666666666L531.5498709439528,55.88896733333334L532.1096054572272,55.87397333333334L532.6693399705015,55.86024866666668L533.2290744837758,55.849856L533.7888089970502,55.83946333333334L534.3485435103246,55.828991333333335L534.9082780235988,55.820264666666674L535.4680125368732,55.80907866666668L536.0277470501476,55.795433333333335L536.5874815634219,55.782422666666676L537.1472160766962,55.77234733333334L537.7069505899706,55.761875333333336L538.2666851032449,55.75076866666667L538.8264196165192,55.73506066666667L539.3861541297936,55.71967000000001L539.9458886430679,55.706659333333334L540.5056231563422,55.69118933333334L541.0653576696166,55.67318066666667L541.6250921828909,55.66255000000001L542.1848266961651,55.652157333333335L542.7445612094396,55.64025733333334L543.304295722714,55.62843666666667L543.8640302359881,55.61391866666668L544.4237647492625,55.599956000000006L544.983499262537,55.589246L545.5432337758112,55.577663333333334L546.1029682890855,55.567350000000005L546.66270280236,55.557592L547.2224373156342,55.54021800000001L547.7821718289085,55.52395466666667L548.3419063421829,55.50991266666668L548.9016408554572,55.49840933333334L549.4613753687315,55.48658866666668L550.0211098820059,55.47460933333333L550.5808443952803,55.463264666666674L551.1405789085545,55.45017466666667L551.7003134218289,55.42288400000001L552.2600479351033,55.40384400000001L552.8197824483776,55.38940533333334L553.3795169616519,55.376236000000006L553.9392514749263,55.363542666666675L554.4989859882006,55.34021866666667L555.0587205014749,55.318322666666674L555.6184550147493,55.29825133333334L556.1781895280236,55.28230533333334L556.7379240412979,55.26509L557.2976585545723,55.25065133333334L557.8573930678467,55.23875133333334L558.4171275811209,55.225661333333335L558.9768620943953,55.21019133333334L559.5365966076697,55.19583200000001L560.096331120944,55.183376666666675L560.6560656342183,55.171397333333346L561.2158001474927,55.157752L561.775534660767,55.142123333333345L562.3352691740413,55.129271333333335L562.8950036873157,55.11570533333334L563.45473820059,55.098648666666676L564.0144727138643,55.08206800000001L564.5742072271387,55.06739133333333L565.133941740413,55.052714666666674L565.6936762536873,55.038038L566.2534107669617,55.02114L566.8131452802361,55.00075133333334L567.3728797935103,54.979569333333345L567.9326143067847,54.96052933333334L568.4690265486727,54.94624933333334L569.0287610619469,54.929986L569.5884955752213,54.914436666666674L570.1482300884957,54.89872866666667L570.70796460177,54.88238600000001L571.2676991150443,54.86628133333333L571.8274336283187,54.84248133333334L572.387168141593,54.82288600000001L572.9469026548672,54.807654L573.5066371681417,54.792580666666666L574.066371681416,54.776634666666666L574.6261061946902,54.75941933333334L575.1858407079646,54.728320666666676L575.7455752212389,54.707376666666676L576.3053097345132,54.69047866666668L576.8650442477876,54.679768666666675L577.424778761062,54.66398133333334L577.9845132743362,54.64938400000001L578.5442477876106,54.62947133333334L579.103982300885,54.61217666666667L579.6637168141593,54.592740000000006L580.2234513274336,54.56068933333334L580.783185840708,54.543553333333335L581.3429203539823,54.52729000000001L581.9026548672566,54.50904333333334L582.462389380531,54.49143133333334L583.0221238938053,54.47691333333334L583.5818584070796,54.46199866666667L584.141592920354,54.448036L584.7013274336284,54.43502533333334L585.2610619469026,54.41868266666667L585.820796460177,54.40273666666667L586.3805309734514,54.38441066666667L586.9402654867257,54.36703666666668L587.5,54.35053533333334"
  //Getting stats elements from youtube page
  $("#action-panel-overflow-button").click();
  $("button[data-trigger-for='action-panel-stats']").click();
  //Todo: Check if stats are avialable
  var $graph = $("svg[aria-label='A chart.'] g");
  var $rect = $('rect', $graph);
  var height = $rect.attr('height');
  var width = $rect.attr('width');
  var my_path = $('path', $graph).attr('d');
  var max_y = 0;
  $('g text', $graph).each(function(){
    cur_y = parseFloat(this.textContent.replace(',',''));
    max_y = Math.max(max_y, cur_y);
  })
  //my_path = test_path;
 
  var svg = d3.select("#line").append("svg");
  var path = 
      svg.append("path")
        .attr("d", my_path)
        .attr("fill", "none")
        .attr("stroke", "black");

  var pathEl = path.node();

  function getX(pathEl, target){
    var segs = pathEl.pathSegList;
    var prev_point = segs.getItem(0);
    for (var i=1; i<segs.length; i++){
      point = segs.getItem(i);
      if (point.y > target)
        return (prev_point.x+point.x)/2;
    }
    console.log("Could not find point in graph")
    return undefined;
  }

  function xToDate(x_cord){
    curDate = new Date(); //assuming retrieved today
    startDate = new Date(); //TODO: change this to start data (via api?)
    max_x = (curData-first)/(1000*60*60*24); //difference of days
    min_x = 0;
    range = width; //svg width
    var proportion = x_cord/range;
    var daysFromStart = proportion * max_x;
    var msToAdd = daysFromStart * 24 * 60 * 60 * 1000; 
    resDate = new Data(startDate + msToAdd);
  }

  function findDate(target_views){
    //Calculate Target
    //var max_y = 600000; // I calculate this as a global
    var min_y = 0;
    var range = height;//svg height
    var proportion = target_views/(max_y-min_y);
    var target = range - (proportion * range);
    //Search for target
    x = getX(pathEL, target);
    return xToDate(x);
  }

  $("#findY").click(function(){
      y = findDate(100000);
      ans = y;
      $("#yans").text(ans);
  });
</script>
